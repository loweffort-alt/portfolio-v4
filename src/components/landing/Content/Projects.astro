---
import { projects } from "@/data/projects.json";

import { getLangFromUrl, useTranslations } from "@/i18n/utils";
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<div class="text-sm font-light">
  <h3 class="text-black dark:text-white">{t("hFour")}</h3>
  <div class="grid gap-6 mt-3">
    {
      projects.map((template) => (
        <>
          <div class="text-neutral-500  items-start grid grid-cols-1 md:grid-cols-3">
            <div>
              <p class="text-neutral-500 dark:text-neutral-400">
                {template.state ? t("pFinished") : t("pInProgress")}
              </p>
            </div>
            <div class="md:col-span-2 w-full">
              <p class="text-black dark:text-white">
                {lang === "es" ? template.title : template.titleEng}
              </p>
              <div class="flex gap-2 flex-wrap">
                {
                  Object.entries(template.link).map(index => (
                    <a 
                      class="bg-neutral-200 hover:bg-neutral-300 text-black 
                        px-1 rounded-md dark:text-white dark:bg-neutral-700 
                        dark:hover:bg-neutral-600"
                      href=`${index[1]}`
                      target="_blank">
                      {index[0]}â†—
                    </a>
                  ))
                }
              </div>
            </div>
          </div>
        </>
      ))
    }
  </div>
</div>
